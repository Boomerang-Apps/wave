# WAVE V2.1 - Production Environment Configuration
# Copy this file to .env.production and fill in the values

#############################################################################
# REQUIRED - Must be set for production deployment
#############################################################################

# Anthropic API Key (required for agent execution)
ANTHROPIC_API_KEY=

# PostgreSQL Database Password (required)
POSTGRES_PASSWORD=

# Grafana Admin Password (required for monitoring dashboard)
GRAFANA_PASSWORD=

# Redis Password (required for security)
REDIS_PASSWORD=

# Project Path (absolute path to project being managed)
PROJECT_PATH=

#############################################################################
# INFRASTRUCTURE
#############################################################################

# PostgreSQL Configuration
POSTGRES_DB=wave
POSTGRES_USER=wave
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379

#############################################################################
# WAVE ORCHESTRATION
#############################################################################

# Wave Configuration
WAVE_NUMBER=1
CHECKPOINT_LEVEL=1
MAX_PARALLEL_AGENTS=4
BUDGET_LIMIT=100.0

# Watcher Configuration
WATCHER_INTERVAL=30

# Logging
LOG_LEVEL=INFO

#############################################################################
# OPTIONAL - Advanced Configuration
#############################################################################

# Slack Notifications (optional)
SLACK_WEBHOOK_URL=

# Monitoring (optional)
SENTRY_DSN=
DATADOG_API_KEY=

# LangSmith Tracing (optional)
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=
LANGCHAIN_PROJECT=wave-production

# Emergency Stop Configuration
EMERGENCY_STOP_ENABLED=true
EMERGENCY_STOP_FILE=.claude/EMERGENCY-STOP

# Checkpoint Configuration
AUTO_CHECKPOINT_INTERVAL=300  # seconds
CHECKPOINT_RETENTION_DAYS=30

# Cost Tracking
MAX_COST_PER_STORY=1.00  # USD
MAX_COST_PER_WAVE=10.00  # USD
COST_ALERT_THRESHOLD=0.80  # 80% of budget

# Security
ALLOWED_DOMAINS=github.com,api.anthropic.com
ENABLE_AUDIT_LOG=true
AUDIT_LOG_PATH=/app/logs/audit.log

# Performance
AGENT_TIMEOUT=3600  # seconds
GATE_TIMEOUT=300  # seconds
MAX_RETRY_ATTEMPTS=3

# Database Connection Pool
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_TIMEOUT=30

# Redis Connection Pool
REDIS_POOL_MIN=5
REDIS_POOL_MAX=20
REDIS_POOL_TIMEOUT=10

#############################################################################
# DEVELOPMENT OVERRIDES (remove in production)
#############################################################################

# Uncomment for development mode
# LOG_LEVEL=DEBUG
# CHECKPOINT_LEVEL=0
# MAX_PARALLEL_AGENTS=1
